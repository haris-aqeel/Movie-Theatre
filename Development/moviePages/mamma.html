<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mamma Mia</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <style>
        img {
            cursor: pointer;
            position: relative;
        }

        img:hover {
            position: relative;
            bottom: 7px;
            right: 7px;
            filter: invert(20%);
        }

        .clicked-image {
            filter: invert(20%);
        }

        .unclicked-image {
            filter: invert(0%);
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand font-weight-bolder" href="#">MOVIES</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link font-weight-bold" href="../index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link font-weight-bold" href="#">Pricing</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link font-weight-bold" href="#">About Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link font-weight-bold" href="#">Contact Us</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container-fluid bg-dark text-white my-3">
        <h1 class="text-capitalize text-center font-weight-bold py-4">Mamma Mia!</h1>

        <div class="container">
            <p class="mb-3">Mamma Mia! (promoted as Mamma Mia! The Movie) is a 2008 jukebox musical romantic comedy film
                directed by Phyllida Lloyd and written by Catherine Johnson based on the 1999 musical of the same name,
                also written by Johnson, which itself is based on the songs of pop group ABBA, including the title song,
                with additional music composed by ABBA member Benny Andersson. The film features an ensemble cast,
                including Christine Baranski, Pierce Brosnan, Dominic Cooper, Colin Firth, Amanda Seyfried, Stellan
                Skarsg√•rd, Meryl Streep and Julie Walters. The plot follows a young bride-to-be who invites three men to
                her upcoming wedding, each one with the possibility of being her father. The film was an international
                co-production between Germany, the United Kingdom, and the United States, and was co-produced by
                Relativity Media, Playtone and Littlestar Productions.</p>
        </div>
        <br /><br />

    </div>

    <div class="container text-center">

        <a href="" data-toggle="modal" data-target="#exampleModal" id="link1" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link2" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link3" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link4" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link5" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link6" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link7" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link8" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link9" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a><br />
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link10" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link11" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link12" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link13" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link14" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link15" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link16" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a><br />
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link17" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link18" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link19" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link20" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a>
        <a href="" data-toggle="modal" data-target="#exampleModal" id="link21" onClick='tranfer(this.id)'><img
                src="images/movie-seat.png"></a><br />

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title text-center" id="exampleModalLabel">Reserve Your Seat</h5>
                        <button type="button" class="close" onClick="cancelSeat()" data-dismiss="modal"
                            aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <h3>Payment is at the time of Entrance</h3>
                        Are You sure You Want to Reserve the Seat?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary no" data-dismiss="modal"
                            onClick="cancelSeat()">Cancel</button>
                        <button type="button" class="btn btn-primary yes" onClick="reserveSeat()"
                            data-dismiss="modal">Yes</button>
                    </div>
                </div>
            </div>
        </div>

        <h1><span class="countSeats my-5">0</span> Seats are reserved out of 28 Seats.</h1>
        <button type="button" class="btn btn-secondary " onClick="reset()">Reset All Seats</button>

    </div>

    <!--BOOTSTRAP LINKS-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>


    <script>


        // GLOBAL VARIABLES
        var globalDataObject = "";
        var globalDataCancelled = "";
        var globalDataReserved = "";
        var selectedID = [];
        var count = 0;
        // DISPLAY EFFECTS
        function display() {
            document.querySelector('.countSeats').textContent = count;
        }
        // APPLYING EFFECTS
        function applyEffects(elemnet) {
            elemnet.className = 'clicked-image';
            count++;
            display();
        }
        // RESETTING ALL VALUES TO ZERO
        function reset() {
            count = 0;
            selectedID.forEach(element => {
                document.getElementById(element).classList.remove('clicked-image');
            })
            selectedID = [];
            display();
        }
        function tranfer(ID) {
            var x = {
                id: ID,
                status: true
            }
            globalDataObject = x;
        }
        // CANCELLING A SEAT
        function cancelSeat() {
            globalDataCancelled = false;
            summingAllData();
        }
        // RESERVING A SEAT
        function reserveSeat() {
            globalDataReserved = true;
            summingAllData();
        }
        // RESERVE + CANCEL SUM
        function summingAllData() {
            if (globalDataReserved && globalDataObject.status) {
                if (selectedID.includes(globalDataObject.id)) {
                    alert("Sorry This Seat is Already Reserved");
                } else {
                    selectedID.push(globalDataObject.id);
                    let selectedSeat = document.getElementById(globalDataObject.id);
                    applyEffects(selectedSeat);
                    console.log(globalDataObject.id);
                }
            } else {
                console.log("error");
            }
        }
    </script>


</body>

</html>